<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tools</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,sans-serif;background:linear-gradient(to bottom right,#fff7ed,#fef3c7);min-height:100vh;padding:2rem}.container{max-width:1200px;margin:0 auto}header{text-align:center;margin-bottom:3rem}h1{font-size:3rem;font-weight:300;color:#1f2937;margin-bottom:.5rem}.subtitle{color:#6b7280;font-weight:300}.search-container{max-width:500px;margin:0 auto 2rem;position:relative}.search-input{width:100%;padding:.75rem 1rem .75rem 3rem;border:1px solid #fed7aa;border-radius:9999px;font-size:1rem;background:#fff;outline:none}.search-input:focus{border-color:#fb923c;box-shadow:0 0 0 3px rgba(251,146,60,.1)}.search-icon{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#9ca3af}.tools-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}.tool-card{background:#fff;border-radius:1rem;padding:2rem;border:1px solid #fed7aa;cursor:pointer;transition:all .2s;position:relative}.tool-card:hover{box-shadow:0 10px 15px -3px rgba(0,0,0,.1);transform:translateY(-2px)}.tool-icon{width:3.5rem;height:3.5rem;border-radius:.75rem;display:flex;align-items:center;justify-content:center;margin-bottom:1rem}.tool-icon svg{width:1.75rem;height:1.75rem;stroke:#fff;fill:none;stroke-width:2}.icon-orange{background:#ea580c}.icon-amber{background:#d97706}.icon-light-orange{background:#fb923c}.tool-name{font-size:1.25rem;font-weight:300;color:#1f2937;margin-bottom:.5rem}.tool-category{font-size:.875rem;color:#6b7280;font-weight:300}.star-btn{position:absolute;top:1rem;right:1rem;background:0 0;border:none;cursor:pointer;padding:.5rem}.star-btn svg{width:1.25rem;height:1.25rem;stroke:#d1d5db;fill:none;stroke-width:2}.star-btn.active svg{fill:#fb923c;stroke:#fb923c}.tool-view{background:#fff;border-radius:1rem;padding:2rem;border:1px solid #fed7aa;max-width:900px;margin:0 auto}.back-btn{background:0 0;border:none;color:#6b7280;cursor:pointer;font-size:1rem;margin-bottom:1.5rem;padding:.5rem}.back-btn:hover{color:#1f2937}.tool-title{font-size:2rem;font-weight:300;color:#1f2937;margin-bottom:1.5rem}.hidden{display:none}canvas{border:2px solid #e5e7eb;border-radius:.75rem;background:#f9fafb;cursor:move;width:100%;max-width:600px}.controls{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap}.btn{padding:.5rem 1rem;border-radius:.5rem;border:none;cursor:pointer;font-size:.875rem;display:flex;align-items:center;gap:.5rem;transition:all .2s}.btn-primary{background:#ea580c;color:#fff}.btn-primary:hover{background:#c2410c}.btn-secondary{background:#ffedd5;color:#c2410c}.btn-secondary:hover{background:#fed7aa}.btn-gray{background:#f3f4f6;color:#374151}.btn-gray:hover{background:#e5e7eb}.btn:disabled{opacity:.5;cursor:not-allowed}.cal-box{background:#fff7ed;border:1px solid #fed7aa;border-radius:.75rem;padding:1rem;margin-bottom:1.5rem}.cal-title{font-weight:500;color:#1f2937;margin-bottom:.75rem}.cal-text{font-size:.875rem;color:#6b7280;margin-bottom:.75rem}.slider-container{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}input[type=range]{flex:1}.circle-preview{display:flex;justify-content:center;margin-bottom:.75rem}.cal-circle{border:4px solid #ea580c;border-radius:50%}.conv-section{margin-bottom:1.5rem}.conv-label{display:block;font-size:.875rem;font-weight:300;color:#6b7280;margin-bottom:.5rem}.conv-input-group{display:flex;gap:.5rem}select,input[type=number]{padding:.75rem;border:1px solid #fed7aa;border-radius:.5rem;font-size:1rem;outline:none}select:focus,input[type=number]:focus{border-color:#fb923c;box-shadow:0 0 0 3px rgba(251,146,60,.1)}input[type=number]{flex:1}.swap-btn{background:#ffedd5;color:#c2410c;border:none;border-radius:50%;width:3rem;height:3rem;display:flex;align-items:center;justify-content:center;cursor:pointer;margin:0 auto}.swap-btn:hover{background:#fed7aa}.pattern-controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:1.5rem}input[type=color]{width:100%;height:3rem;border:1px solid #fed7aa;border-radius:.5rem;cursor:pointer}.export-buttons{display:flex;gap:.5rem}.export-buttons .btn{flex:1;justify-content:center}.info-text{font-size:.875rem;color:#6b7280;font-weight:300;margin-top:1rem}
    </style>
</head>
<body>
    <div class="container">
        <div id="home">
            <header><h1>Tools</h1><p class="subtitle">Personal utility collection</p></header>
            <div class="search-container">
                <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg>
                <input type="text" class="search-input" id="search" placeholder="Search tools...">
            </div>
            <div class="tools-grid" id="grid">
                <div class="tool-card" data-tool="key">
                    <button class="star-btn" data-tool="key"><svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></button>
                    <div class="tool-icon icon-orange"><svg viewBox="0 0 24 24"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path></svg></div>
                    <h3 class="tool-name">Key Copier</h3><p class="tool-category">Measurement</p>
                </div>
                <div class="tool-card" data-tool="conv">
                    <button class="star-btn" data-tool="conv"><svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></button>
                    <div class="tool-icon icon-amber"><svg viewBox="0 0 24 24"><path d="m16 3 4 4-4 4"></path><path d="M20 7H4"></path><path d="m8 21-4-4 4-4"></path><path d="M4 17h16"></path></svg></div>
                    <h3 class="tool-name">Unit Converter</h3><p class="tool-category">Utilities</p>
                </div>
                <div class="tool-card" data-tool="pat">
                    <button class="star-btn" data-tool="pat"><svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></button>
                    <div class="tool-icon icon-light-orange"><svg viewBox="0 0 24 24"><rect width="7" height="7" x="3" y="3" rx="1"></rect><rect width="7" height="7" x="14" y="3" rx="1"></rect><rect width="7" height="7" x="14" y="14" rx="1"></rect><rect width="7" height="7" x="3" y="14" rx="1"></rect></svg></div>
                    <h3 class="tool-name">Pattern Generator</h3><p class="tool-category">Creative</p>
                </div>
            </div>
        </div>
        <div id="key-view" class="hidden"><div class="tool-view"><button class="back-btn" onclick="showHome()">‚Üê Back</button><h2 class="tool-title">Key Copier</h2><div id="cal" class="cal-box"><h3 class="cal-title">Calibration Required</h3><p class="cal-text">Hold a quarter to your screen and adjust the circle to match its size.</p><div class="slider-container"><input type="range" id="cal-slider" min="50" max="200" value="100"><span id="cal-val">100px</span></div><div class="circle-preview"><div id="cal-circle" class="cal-circle" style="width:100px;height:100px"></div></div><button class="btn btn-primary" onclick="calibrate()" style="width:100%">Confirm Calibration</button></div><div class="controls"><button class="btn btn-secondary" onclick="addPt()">‚ûï Add</button><button class="btn btn-secondary" onclick="remPt()">‚ûñ Remove</button><button class="btn btn-gray" onclick="resetKey()">üîÑ Reset</button><button class="btn btn-primary" onclick="exportKey()">üíæ Export</button></div><canvas id="kc" width="600" height="400"></canvas><p class="info-text">Drag points to match your key. <span id="minfo"></span></p></div></div>
        <div id="conv-view" class="hidden"><div class="tool-view"><button class="back-btn" onclick="showHome()">‚Üê Back</button><h2 class="tool-title">Unit Converter</h2><div class="conv-section"><label class="conv-label">Category</label><select id="cat" style="width:100%"><option value="length">Length</option><option value="weight">Weight</option><option value="temp">Temperature</option><option value="vol">Volume</option><option value="speed">Speed</option><option value="data">Data</option></select></div><div class="conv-section"><label class="conv-label">From</label><div class="conv-input-group"><input type="number" id="fval" placeholder="Enter value"><select id="funit"></select></div></div><div style="text-align:center;margin:1rem 0"><button class="swap-btn" onclick="swap()">‚áÖ</button></div><div class="conv-section"><label class="conv-label">To</label><div class="conv-input-group"><input type="number" id="tval" placeholder="Result"><select id="tunit"></select></div></div></div></div>
        <div id="pat-view" class="hidden"><div class="tool-view"><button class="back-btn" onclick="showHome()">‚Üê Back</button><h2 class="tool-title">Pattern Generator</h2><div class="pattern-controls"><div><label class="conv-label">Shape</label><select id="shape" style="width:100%"><option value="sq">Square</option><option value="circ">Circle</option><option value="tri">Triangle</option><option value="hex">Hexagon</option></select></div><div><label class="conv-label">Size: <span id="szval">30</span>px</label><input type="range" id="size" min="10" max="80" value="30" style="width:100%"></div><div><label class="conv-label">Color 1</label><input type="color" id="c1" value="#ea580c"></div><div><label class="conv-label">Color 2</label><input type="color" id="c2" value="#f59e0b"></div><div><label class="conv-label">Spacing: <span id="spval">50</span>px</label><input type="range" id="space" min="20" max="120" value="50" style="width:100%"></div><div><label class="conv-label">Rotation: <span id="rotval">0</span>¬∞</label><input type="range" id="rot" min="0" max="360" value="0" style="width:100%"></div></div><canvas id="pc" width="600" height="400" style="margin-bottom:1rem"></canvas><div class="export-buttons"><button class="btn btn-primary" onclick="expPNG()">üíæ PNG</button><button class="btn btn-primary" onclick="expSVG()">üíæ SVG</button></div></div></div>
    </div>
    <script>
let favs=[],isCal=!1,pxPerMm=1,pts=[{x:150,y:100},{x:250,y:100},{x:250,y:150},{x:200,y:180},{x:150,y:150}],dragPt=null;const units={length:{m:1,km:.001,cm:100,mm:1000,mi:.000621371,yd:1.09361,ft:3.28084,in:39.3701},weight:{kg:1,g:1000,lb:2.20462,oz:35.274,t:.001},temp:{C:'C',F:'F',K:'K'},vol:{L:1,mL:1000,gal:.264172,qt:1.05669,cup:4.22675,tbsp:67.628,tsp:202.884},speed:{'m/s':1,'km/h':3.6,'mph':2.23694,kn:1.94384},data:{B:1,KB:.001,MB:1e-6,GB:1e-9,TB:1e-12}};function showHome(){document.getElementById('home').classList.remove('hidden');['key-view','conv-view','pat-view'].forEach(v=>document.getElementById(v).classList.add('hidden'))}function showTool(t){document.getElementById('home').classList.add('hidden');document.getElementById(t+'-view').classList.remove('hidden');t=='pat'&&drawPat()}document.querySelectorAll('.tool-card').forEach(c=>c.addEventListener('click',e=>{e.target.closest('.star-btn')||showTool(c.dataset.tool)}));document.querySelectorAll('.star-btn').forEach(b=>b.addEventListener('click',e=>{e.stopPropagation();const t=b.dataset.tool;favs.includes(t)?(favs=favs.filter(f=>f!=t),b.classList.remove('active')):(favs.push(t),b.classList.add('active'))}));document.getElementById('search').addEventListener('input',e=>{const term=e.target.value.toLowerCase();document.querySelectorAll('.tool-card').forEach(c=>{const name=c.querySelector('.tool-name').textContent.toLowerCase(),cat=c.querySelector('.tool-category').textContent.toLowerCase();c.style.display=name.includes(term)||cat.includes(term)?'block':'none'})});const cslide=document.getElementById('cal-slider'),cval=document.getElementById('cal-val'),ccirc=document.getElementById('cal-circle');cslide.addEventListener('input',e=>{const s=e.target.value;cval.textContent=s+'px';ccirc.style.width=s+'px';ccirc.style.height=s+'px'});function calibrate(){pxPerMm=parseInt(cslide.value)/24.26;isCal=!0;document.getElementById('cal').style.display='none';document.getElementById('minfo').textContent='Measurements in mm.';drawKey()}function drawKey(){const cv=document.getElementById('kc'),ctx=cv.getContext('2d');ctx.clearRect(0,0,cv.width,cv.height);ctx.strokeStyle='#ea580c';ctx.lineWidth=3;ctx.beginPath();pts.forEach((p,i)=>i==0?ctx.moveTo(p.x,p.y):ctx.lineTo(p.x,p.y));ctx.closePath();ctx.stroke();pts.forEach((p,i)=>{ctx.fillStyle='#fff';ctx.strokeStyle='#ea580c';ctx.lineWidth=2;ctx.beginPath();ctx.arc(p.x,p.y,6,0,Math.PI*2);ctx.fill();ctx.stroke();ctx.fillStyle='#1f2937';ctx.font='12px sans-serif';ctx.fillText(i+1,p.x+10,p.y-10)});if(isCal){ctx.fillStyle='#1f2937';ctx.font='11px sans-serif';for(let i=0;i<pts.length;i++){const p1=pts[i],p2=pts[(i+1)%pts.length],dist=Math.sqrt(Math.pow(p2.x-p1.x,2)+Math.pow(p2.y-p1.y,2)),mm=(dist/pxPerMm).toFixed(1);ctx.fillText(`${mm}mm`,(p1.x+p2.x)/2,(p1.y+p2.y)/2)}}}const kc=document.getElementById('kc');kc.addEventListener('mousedown',e=>{const r=kc.getBoundingClientRect(),x=e.clientX-r.left,y=e.clientY-r.top,idx=pts.findIndex(p=>Math.sqrt(Math.pow(p.x-x,2)+Math.pow(p.y-y,2))<10);idx!=-1&&(dragPt=idx)});kc.addEventListener('mousemove',e=>{if(dragPt===null)return;const r=kc.getBoundingClientRect();pts[dragPt]={x:e.clientX-r.left,y:e.clientY-r.top};drawKey()});kc.addEventListener('mouseup',()=>dragPt=null);kc.addEventListener('mouseleave',()=>dragPt=null);function addPt(){const l=pts[pts.length-1];pts.push({x:l.x+20,y:l.y+20});drawKey()}function remPt(){pts.length>3&&(pts.pop(),drawKey())}function resetKey(){pts=[{x:150,y:100},{x:250,y:100},{x:250,y:150},{x:200,y:180},{x:150,y:150}];isCal=!1;document.getElementById('cal').style.display='block';document.getElementById('minfo').textContent='';drawKey()}function exportKey(){const link=document.createElement('a');link.download='key.png';link.href=kc.toDataURL();link.click()}const cat=document.getElementById('cat'),fval=document.getElementById('fval'),tval=document.getElementById('tval'),funit=document.getElementById('funit'),tunit=document.getElementById('tunit');function loadUnits(){const c=cat.value,us=Object.keys(units[c]);funit.innerHTML=tunit.innerHTML=us.map(u=>`<option value="${u}">${u}</option>`).join('');fval.value='';tval.value=''}cat.addEventListener('change',loadUnits);function convTemp(v,f,t){let c;c=f=='C'?v:f=='F'?(v-32)*5/9:v-273.15;return t=='C'?c:t=='F'?c*9/5+32:c+273.15}function conv(v,f,t,c){if(!v||isNaN(v))return'';const val=parseFloat(v);if(c=='temp')return convTemp(val,f,t).toFixed(2);const base=val/units[c][f];return(base*units[c][t]).toFixed(6).replace(/\.?0+$/,'')}fval.addEventListener('input',()=>tval.value=conv(fval.value,funit.value,tunit.value,cat.value));tval.addEventListener('input',()=>fval.value=conv(tval.value,tunit.value,funit.value,cat.value));funit.addEventListener('change',()=>fval.value&&(tval.value=conv(fval.value,funit.value,tunit.value,cat.value)));tunit.addEventListener('change',()=>fval.value&&(tval.value=conv(fval.value,funit.value,tunit.value,cat.value)));function swap(){[funit.value,tunit.value]=[tunit.value,funit.value];[fval.value,tval.value]=[tval.value,fval.value]}loadUnits();const shape=document.getElementById('shape'),c1=document.getElementById('c1'),c2=document.getElementById('c2'),space=document.getElementById('space'),rot=document.getElementById('rot'),size=document.getElementById('size'),pc=document.getElementById('pc');size.addEventListener('input',e=>{document.getElementById('szval').textContent=e.target.value;drawPat()});space.addEventListener('input',e=>{document.getElementById('spval').textContent=e.target.value;drawPat()});rot.addEventListener('input',e=>{document.getElementById('rotval').textContent=e.target.value;drawPat()});[shape,c1,c2].forEach(el=>el.addEventListener('change',drawPat));function drawPat(){const ctx=pc.getContext('2d'),sp=parseInt(space.value),sz=parseInt(size.value),r=parseInt(rot.value),sh=shape.value;ctx.clearRect(0,0,pc.width,pc.height);ctx.fillStyle='#fff';ctx.fillRect(0,0,pc.width,pc.height);const cols=Math.ceil(pc.width/sp)+1,rows=Math.ceil(pc.height/sp)+1;for(let row=0;row<rows;row++){for(let col=0;col<cols;col++){const x=col*sp,y=row*sp;ctx.fillStyle=(row+col)%2==0?c1.value:c2.value;ctx.save();ctx.translate(x,y);ctx.rotate(r*Math.PI/180);if(sh=='sq')ctx.fillRect(-sz/2,-sz/2,sz,sz);else if(sh=='circ'){ctx.beginPath();ctx.arc(0,0,sz/2,0,Math.PI*2);ctx.fill()}else if(sh=='tri'){ctx.beginPath();ctx.moveTo(0,-sz/2);ctx.lineTo(sz/2,sz/2);ctx.lineTo(-sz/2,sz/2);ctx.closePath();ctx.fill()}else if(sh=='hex'){ctx.beginPath();for(let i=0;i<6;i++){const a=Math.PI/3*i,px=sz/2*Math.cos(a),py=sz/2*Math.sin(a);i==0?ctx.moveTo(px,py):ctx.lineTo(px,py)}ctx.closePath();ctx.fill()}ctx.restore()}}}function expPNG(){const link=document.createElement('a');link.download='pattern.png';link.href=pc.toDataURL();link.click()}function expSVG(){const sp=parseInt(space.value),sz=parseInt(size.value),r=parseInt(rot.value),sh=shape.value,cols=Math.ceil(pc.width/sp)+1,rows=Math.ceil(pc.height/sp)+1;let svg=`<svg width="${pc.width}" height="${pc.height}" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#fff"/>`;for(let row=0;row<rows;row++){for(let col=0;col<cols;col++){const x=col*sp,y=row*sp,fill=(row+col)%2==0?c1.value:c2.value;if(sh=='sq')svg+=`<rect x="${x-sz/2}" y="${y-sz/2}" width="${sz}" height="${sz}" fill="${fill}" transform="rotate(${r} ${x} ${y})"/>`;else if(sh=='circ')svg+=`<circle cx="${x}" cy="${y}" r="${sz/2}" fill="${fill}"/>`;else if(sh=='tri'){const p=`${x},${y-sz/2} ${x+sz/2},${y+sz/2} ${x-sz/2},${y+sz/2}`;svg+=`<polygon points="${p}" fill="${fill}" transform="rotate(${r} ${x} ${y})"/>`}}}svg+='</svg>';const blob=new Blob([svg],{type:'image/svg+xml'}),link=document.createElement('a');link.download='pattern.svg';link.href=URL.createObjectURL(blob);link.click()}drawKey()
    </script>
</body>
</html>